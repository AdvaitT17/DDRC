<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Error - DDRC</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="/css/header.css" />
  <link rel="stylesheet" href="/css/footer.css" />
  <link rel="stylesheet" href="/css/accessibility.css" />
  <link rel="stylesheet" href="/css/error.css" />
</head>

<body>
  <div id="site-header"></div>

  <main id="main-content" role="main" tabindex="-1">
    <section class="error-section">
      <div class="error-content">
        <h1 class="error-code" id="errorCode">404</h1>
        <h2 class="error-message" id="errorMessage">Page Not Found</h2>
        <img src="/images/error-illustration.svg" alt="Error Illustration" class="error-image"
          onerror="this.src='/images/emblem.png'; this.style.maxWidth='150px';" />
        <p class="error-description" id="errorDescription">The page you are looking for might have been removed, had its
          name changed, or is temporarily unavailable.</p>
        <a href="/" class="home-button">Return to Homepage</a>
        <div class="suggestions">
          <h3>You might want to try:</h3>
          <ul>
            <li>Checking the URL for typing errors</li>
            <li>Going back to the <a href="/">homepage</a></li>
            <li>Using the navigation menu above</li>
            <li>Tracking your application <a href="/track">here</a></li>
            <li>Starting a new registration <a href="/registration">here</a></li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <div id="site-footer"></div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/js/auth.js"></script>
  <script src="/js/components/header.js"></script>
  <script src="/js/components/footer.js"></script>
  <script src="/js/accessibility.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const urlParams = new URLSearchParams(window.location.search);
      const code = urlParams.get("code");
      const message = urlParams.get("message");

      if (code) {
        document.getElementById("errorCode").textContent = code;
        document.title = `Error ${code} - DDRC`;

        if (!message) {
          const messages = {
            "400": ["Bad Request", "The server could not understand the request."],
            "401": ["Unauthorized", "You need to be logged in to access this page."],
            "403": ["Forbidden", "You do not have permission to access this resource."],
            "404": ["Page Not Found", "The page might have been removed or is unavailable."],
            "500": ["Internal Server Error", "The server encountered an unexpected error."],
            "502": ["Bad Gateway", "The server received an invalid response."],
            "503": ["Service Unavailable", "The server is temporarily unavailable."],
            "504": ["Gateway Timeout", "The server did not receive a timely response."]
          };
          const [msg, desc] = messages[code] || ["An Error Occurred", "Something went wrong."];
          document.getElementById("errorMessage").textContent = msg;
          document.getElementById("errorDescription").textContent = desc;
        } else {
          document.getElementById("errorMessage").textContent = message;
        }
      }
    });
  </script>
</body>

</html>